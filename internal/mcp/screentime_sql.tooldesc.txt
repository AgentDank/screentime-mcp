# Updated Screen Time SQL Tool Description

## Overview
Queries macOS Screen Time data (CoreDuet knowledge store) using DuckDB SQL dialect. Returns CSV results.

## When to Use
- User asks about Mac app usage, screen time, or digital habits
- Questions about time spent in specific apps or categories
- Analyzing productivity patterns or app usage trends
- Investigating notification/distraction patterns
- Queries about device usage history

## Critical DuckDB SQL Syntax Requirements

### Date/Time Handling
**IMPORTANT**: This database uses DuckDB SQL dialect with specific requirements:

1. **No `strftime()` with string literals**: 
   ```sql
   -- ❌ WRONG - causes binder error
   WHERE ZSTARTDATE > (strftime('%s', 'now') - 978307200 - 7*24*3600)
   
   -- ✅ CORRECT - use current_date and INTERVAL
   WHERE ZSTARTDATE >= current_date - INTERVAL '7 days'
   ```

2. **Explicit type casting required**:
   ```sql
   -- ❌ WRONG - cannot compare TIMESTAMP with INTEGER
   WHERE ZSTARTDATE > 0
   
   -- ✅ CORRECT - cast or use proper timestamp comparison
   WHERE ZSTARTDATE IS NOT NULL
   WHERE ZSTARTDATE >= '1970-01-01'::TIMESTAMP
   ```

3. **Date arithmetic**:
   ```sql
   -- ✅ Use INTERVAL for date arithmetic
   current_date - INTERVAL '14 days'
   current_date - INTERVAL '1 week'
   
   -- ✅ Extract epoch seconds from intervals
   extract(epoch from (ZENDDATE - ZSTARTDATE))
   ```

4. **Date formatting**:
   ```sql
   -- ✅ Use DATE() function or DATE_TRUNC()
   DATE(ZSTARTDATE) as usage_date
   DATE_TRUNC('day', ZSTARTDATE) as day
   ```

### Core Data Timestamp Format
- Timestamps may be in Core Data format (seconds since 2001-01-01)
- To convert: `datetime(timestamp + 978307200, 'unixepoch')`
- Always check timestamp ranges before assuming format

### Safe Query Patterns

#### Recent Data Filtering
```sql
-- For last 7 days
WHERE ZSTARTDATE >= current_date - INTERVAL '7 days'

-- For recent records (avoid timestamp format issues)
ORDER BY ZSTARTDATE DESC LIMIT 1000
```

#### Duration Calculations
```sql
-- Safe duration calculation with null checks
CASE WHEN ZENDDATE IS NOT NULL AND ZSTARTDATE IS NOT NULL 
     THEN extract(epoch from (ZENDDATE - ZSTARTDATE)) 
     ELSE NULL END as duration_seconds
```

#### App Usage Analysis
```sql
-- Group by app bundle ID
SELECT 
    ZVALUESTRING as app_bundle_id,
    COUNT(*) as usage_events,
    AVG(CASE WHEN ZENDDATE IS NOT NULL AND ZSTARTDATE IS NOT NULL 
             THEN extract(epoch from (ZENDDATE - ZSTARTDATE)) 
             ELSE NULL END) as avg_duration_seconds
FROM ZOBJECT 
WHERE ZSTREAMNAME = '/app/usage'
    AND ZVALUESTRING IS NOT NULL
GROUP BY ZVALUESTRING
ORDER BY usage_events DESC;
```

#### Web Domain Analysis
```sql
-- Join with structured metadata for web domains
SELECT 
    sm.Z_DKDIGITALHEALTHMETADATAKEY__WEBDOMAIN as domain,
    COUNT(*) as visits
FROM ZOBJECT o
JOIN ZSTRUCTUREDMETADATA sm ON o.ZSTRUCTUREDMETADATA = sm.Z_PK
WHERE o.ZSTREAMNAME = '/app/webUsage' 
    AND sm.Z_DKDIGITALHEALTHMETADATAKEY__WEBDOMAIN IS NOT NULL
GROUP BY sm.Z_DKDIGITALHEALTHMETADATAKEY__WEBDOMAIN
ORDER BY visits DESC;
```

## Key Tables and Columns

### ZOBJECT (Main Events Table)
- `ZSTREAMNAME`: Event type ('/app/usage', '/app/webUsage', '/app/inFocus', etc.)
- `ZVALUESTRING`: App bundle IDs or other identifiers
- `ZSTARTDATE/ZENDDATE`: Event timestamps (TIMESTAMP type)
- `ZSOURCE`: Foreign key to ZSOURCE table

### ZSOURCE (App Information)
- `ZBUNDLEID`: App bundle identifier
- `ZSOURCEID`: Source identifier

### ZSTRUCTUREDMETADATA (Detailed Metadata)
- `Z_DKDIGITALHEALTHMETADATAKEY__WEBDOMAIN`: Website domains
- Many other metadata fields for different event types

## Common Stream Names
- `/app/usage`: App launch/usage events
- `/app/webUsage`: Web browsing in Safari
- `/app/inFocus`: App focus events
- `/discoverability/signals`: Various user interaction signals
- `/notification/usage`: Notification events

## Error Prevention Tips

1. **Always use proper DuckDB syntax** - no MySQL/SQLite specific functions
2. **Test timestamp comparisons carefully** - use ORDER BY and LIMIT first
3. **Handle NULLs explicitly** in duration calculations
4. **Use CASE statements** for conditional logic
5. **Cast types explicitly** when needed
6. **Prefer INTERVAL arithmetic** over manual timestamp math

## Limitations
- Read-only SELECT queries only
- Data availability depends on user's Screen Time settings
- Timestamp format may vary between systems
- Some fields contain binary data (BLOB) requiring interpretation
- Complex metadata stored in structured format requiring joins

# Table Create Statements
- CREATE TABLE ZADDITIONCHANGESET(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZSEQUENCENUMBER BIGINT, ZVERSION BIGINT, ZENDDATE TIMESTAMP, ZSTARTDATE TIMESTAMP, ZCKFOREIGNKEY VARCHAR, ZCKRECORDID VARCHAR, ZDEVICEIDENTIFIER VARCHAR, ZCHANGESET BLOB, ZCKRECORDSYSTEMFIELDS BLOB);
- CREATE TABLE ZCONTEXTUALCHANGEREGISTRATION(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZISACTIVE BIGINT, ZISMULTIDEVICEREGISTRATION BIGINT, ZCREATIONDATE TIMESTAMP, ZIDENTIFIER VARCHAR, ZPROPERTIES BLOB);
- CREATE TABLE ZCONTEXTUALKEYPATH(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZDEVICEID BIGINT, ZISEPHEMERAL BIGINT, ZISUSERCENTRIC BIGINT, ZCREATIONDATE TIMESTAMP, ZLASTMODIFIEDDATE TIMESTAMP, ZDEVICEIDSTRING VARCHAR, ZKEY VARCHAR, ZVALUE BLOB);
- CREATE TABLE ZCUSTOMMETADATA(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZINTEGERVALUE BIGINT, ZOBJECT BIGINT, Z9_OBJECT BIGINT, ZDATEVALUE TIMESTAMP, ZDOUBLEVALUE DOUBLE, ZNAME VARCHAR, ZSTRINGVALUE VARCHAR, ZVALUEHASH VARCHAR, ZBINARYVALUE BLOB);
- CREATE TABLE Z_4EVENT(Z_4CUSTOMMETADATA BIGINT, Z_11EVENT BIGINT, PRIMARY KEY(Z_4CUSTOMMETADATA, Z_11EVENT));
- CREATE TABLE ZDELETIONCHANGESET(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZSEQUENCENUMBER BIGINT, ZVERSION BIGINT, ZENDDATE TIMESTAMP, ZSTARTDATE TIMESTAMP, ZCKFOREIGNKEY VARCHAR, ZCKRECORDID VARCHAR, ZDEVICEIDENTIFIER VARCHAR, ZCHANGESET BLOB, ZCKRECORDSYSTEMFIELDS BLOB);
- CREATE TABLE ZHISTOGRAM(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZSTREAMTYPECODE BIGINT, ZENDDATE TIMESTAMP, ZSTARTDATE TIMESTAMP, ZCUSTOMIDENTIFIER VARCHAR, ZDEVICEIDENTIFIER VARCHAR, ZIDENTIFIER VARCHAR, ZSTREAMNAME VARCHAR);
- CREATE TABLE ZHISTOGRAMVALUE(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZINTEGERVALUE BIGINT, ZHISTOGRAM BIGINT, ZCOUNT DOUBLE, ZSTRINGVALUE VARCHAR);
- CREATE TABLE ZKEYVALUE(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZDOMAIN VARCHAR, ZKEY VARCHAR, ZVALUE BLOB);
- CREATE TABLE ZOBJECT(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZUUIDHASH BIGINT, ZEVENT BIGINT, ZSOURCE BIGINT, ZCATEGORYTYPE BIGINT, ZINTEGERVALUE BIGINT, ZCOMPATIBILITYVERSION BIGINT, ZENDDAYOFWEEK BIGINT, ZENDSECONDOFDAY BIGINT, ZHASCUSTOMMETADATA BIGINT, ZHASSTRUCTUREDMETADATA BIGINT, ZSECONDSFROMGMT BIGINT, ZSHOULDSYNC BIGINT, ZSTARTDAYOFWEEK BIGINT, ZSTARTSECONDOFDAY BIGINT, ZVALUECLASS BIGINT, ZVALUEINTEGER BIGINT, ZVALUETYPECODE BIGINT, ZSTRUCTUREDMETADATA BIGINT, ZVALUE BIGINT, Z9_VALUE BIGINT, ZIDENTIFIERTYPE BIGINT, ZQUANTITYTYPE BIGINT, ZCREATIONDATE TIMESTAMP, ZLOCALCREATIONDATE TIMESTAMP, ZCONFIDENCE DOUBLE, ZENDDATE TIMESTAMP, ZSTARTDATE TIMESTAMP, ZVALUEDOUBLE DOUBLE, ZDOUBLEVALUE DOUBLE, ZUUID VARCHAR, ZSTREAMNAME VARCHAR, ZVALUESTRING VARCHAR, ZSTRING VARCHAR, ZMETADATA BLOB);
- CREATE TABLE ZSOURCE(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZUSERID BIGINT, ZBUNDLEID VARCHAR, ZDEVICEID VARCHAR, ZGROUPID VARCHAR, ZINTENTID VARCHAR, ZITEMID VARCHAR, ZSOURCEID VARCHAR);
- CREATE TABLE ZSTRUCTUREDMETADATA(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, Z_CDPORTRAITMETADATAKEY__ALGORITHM BIGINT, Z_CDPORTRAITMETADATAKEY__ASSETVERSION BIGINT, Z_CDPORTRAITMETADATAKEY__COMPATIBILITYVERSION BIGINT, Z_DKALARMMETADATAKEY__ISSLEEP BIGINT, Z_DKAPPINSTALLMETADATAKEY__ISINSTALL BIGINT, Z_DKAPPLICATIONACTIVITYMETADATAKEY__BEGINNINGOFACTIVITY BIGINT, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ISELIGIBLEFORPREDICTION BIGINT, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ISPUBLICLYINDEXABLE BIGINT, Z_DKAPPLICATIONACTIVITYMETADATAKEY__SHORTCUTAVAILABILITY BIGINT, Z_DKAPPLICATIONMETADATAKEY__DYLDPLATFORM BIGINT, Z_DKAPPLICATIONMETADATAKEY__ISNATIVEARCHITECTURE BIGINT, Z_DKAPPLICATIONMETADATAKEY__PROCESSIDENTIFIER BIGINT, Z_DKAUDIOMETADATAKEY__ROUTECHANGEREASON BIGINT, Z_DKBLUETOOTHMETADATAKEY__BATTERYLEVELHEADPHONECASE BIGINT, Z_DKBLUETOOTHMETADATAKEY__BATTERYLEVELHEADPHONELEFT BIGINT, Z_DKBLUETOOTHMETADATAKEY__BATTERYLEVELHEADPHONERIGHT BIGINT, Z_DKBLUETOOTHMETADATAKEY__DEVICETYPE BIGINT, Z_DKBLUETOOTHMETADATAKEY__ISAPPLEAUDIODEVICE BIGINT, Z_DKBLUETOOTHMETADATAKEY__ISUSERWEARING BIGINT, Z_DKBLUETOOTHMETADATAKEY__PRODUCTID BIGINT, Z_DKBULLETINBOARDMETADATAKEY__HASDATE BIGINT, Z_DKDEVICEBATTERYPERCENTAGEMETADATAKEY__FULLYCHARGED BIGINT, Z_DKDEVICEISPLUGGEDINMETADATAKEY__ADAPTERISWIRELESS BIGINT, Z_DKDEVICEISPLUGGEDINMETADATAKEY__ADAPTERTYPE BIGINT, Z_DKDIGITALHEALTHMETADATAKEY__ISUSAGETRUSTED BIGINT, Z_DKDIGITALHEALTHMETADATAKEY__USAGETYPE BIGINT, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__CONTENTTYPE BIGINT, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__INELIGIBLEREASON BIGINT, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__STATE BIGINT, Z_DKGLANCELAUNCHMETADATA__DEVICEIDENTIFIER BIGINT, Z_DKINTENTMETADATAKEY__DIRECTION BIGINT, Z_DKINTENTMETADATAKEY__DONATEDBYSIRI BIGINT, Z_DKINTENTMETADATAKEY__INTENTHANDLINGSTATUS BIGINT, Z_DKINTENTMETADATAKEY__INTENTTYPE BIGINT, Z_DKINTENTMETADATAKEY__SHORTCUTAVAILABILITY BIGINT, Z_DKMETADATAHOMEKITACCESSORYCONTROL__ELIGIBLEFORSUGGESTIONS BIGINT, Z_DKMETADATAHOMEKITACCESSORYCONTROL__HOMEOCCUPANCY BIGINT, Z_DKMETADATAHOMEKITSCENE__HOMEOCCUPANCY BIGINT, Z_DKMICROLOCATIONMETADATAKEY__MICROLOCATIONISSTABLE BIGINT, Z_DKNOWPLAYINGMETADATAKEY__ITUNESSTOREIDENTIFIER BIGINT, Z_DKNOWPLAYINGMETADATAKEY__ITUNESSUBSCRIPTIONIDENTIFIER BIGINT, Z_DKNOWPLAYINGMETADATAKEY__IDENTIFIER BIGINT, Z_DKNOWPLAYINGMETADATAKEY__ISAIRPLAYVIDEO BIGINT, Z_DKNOWPLAYINGMETADATAKEY__PLAYING BIGINT, Z_DKSEARCHFEEDBACKMETADATAKEY__INTERACTIONTYPE BIGINT, Z_DKSEARCHFEEDBACKMETADATAKEY__SUGGESTIONTYPE BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ENGAGEMENTTYPE BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ICLOUDFAMILYINVOCATION BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__INDEXSELECTED BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ISADAPTEDMODELCREATED BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ISADAPTEDMODELUSED BIGINT, Z_DKSHARESHEETFEEDBACKMETADATAKEY__PEOPLESUGGESTIONSDISABLED BIGINT, Z_QPMETRICSMETADATAKEY__QUERYENGAGED BIGINT, Z_QPMETRICSMETADATAKEY__RESULTENGAGED BIGINT, ZCOM_APPLE_CALENDARUIKIT_USERACTIVITY_DATE BIGINT, ZCOM_APPLE_CALENDARUIKIT_USERACTIVITY_ENDDATE BIGINT, Z_CDPORTRAITMETADATAKEY__DECAYRATE DOUBLE, Z_CDPORTRAITMETADATAKEY__SCORE DOUBLE, Z_CDPORTRAITMETADATAKEY__SENTIMENTSCORE DOUBLE, Z_DKAPPCLIPUSAGEMETADATAKEY__TIMESINCEDOWNLOAD DOUBLE, Z_DKAPPLICATIONACTIVITYMETADATAKEY__EXPIRATIONDATE TIMESTAMP, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__LATITUDE DOUBLE, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__LONGITUDE DOUBLE, Z_DKLOCATIONMETADATAKEY__ALTITUDE DOUBLE, Z_DKLOCATIONMETADATAKEY__LATITUDE DOUBLE, Z_DKLOCATIONMETADATAKEY__LONGITUDE DOUBLE, Z_DKNOWPLAYINGMETADATAKEY__DURATION DOUBLE, Z_DKNOWPLAYINGMETADATAKEY__ELAPSED DOUBLE, Z_DKPERIODMETADATAKEY__PERIODEND TIMESTAMP, Z_DKPERIODMETADATAKEY__PERIODSTART TIMESTAMP, Z_DKSHARESHEETFEEDBACKMETADATAKEY__NUMBEROFVISIBLESUGGESTIONS DOUBLE, Z_QPMETRICSMETADATAKEY__TIMESTAMP DOUBLE, Z_CDENTITYMETADATAKEY__BESTLANGUAGE VARCHAR, Z_CDENTITYMETADATAKEY__NAME VARCHAR, Z_CDPORTRAITMETADATAKEY__OSBUILD VARCHAR, Z_DKAIRPLAYPREDICTIONMETADATAKEY__OUTPUTDEVICEID VARCHAR, Z_DKAIRPLAYPREDICTIONMETADATAKEY__SUBTYPE VARCHAR, Z_DKALARMMETADATAKEY__ALARMID VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__URLHASH VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__APPBUNDLEID VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__CLIPBUNDLEID VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__LAUNCHREASON VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__REFERRERBUNDLEID VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__WEBAPPBUNDLEID VARCHAR, Z_DKAPPINSTALLMETADATAKEY__PRIMARYCATEGORY VARCHAR, Z_DKAPPINSTALLMETADATAKEY__TITLE VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ACTIVITYTYPE VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__CONTENTDESCRIPTION VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ITEMIDENTIFIER VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ITEMRELATEDUNIQUEIDENTIFIER VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__SUGGESTEDINVOCATIONPHRASE VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__TITLE VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__USERACTIVITYREQUIREDSTRING VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__USERACTIVITYUUID VARCHAR, Z_DKAPPLICATIONMETADATAKEY__BACKBOARDSTATE VARCHAR, Z_DKAPPLICATIONMETADATAKEY__EXTENSIONCONTAININGBUNDLEIDENTIFIER VARCHAR, Z_DKAPPLICATIONMETADATAKEY__EXTENSIONHOSTIDENTIFIER VARCHAR, Z_DKAPPLICATIONMETADATAKEY__LAUNCHREASON VARCHAR, Z_DKAUDIOMETADATAKEY__CHANNELS VARCHAR, Z_DKAUDIOMETADATAKEY__DATASOURCES VARCHAR, Z_DKAUDIOMETADATAKEY__IDENTIFIER VARCHAR, Z_DKAUDIOMETADATAKEY__PORTNAME VARCHAR, Z_DKAUDIOMETADATAKEY__PORTTYPE VARCHAR, Z_DKAUDIOMETADATAKEY__PREFERREDDATASOURCE VARCHAR, Z_DKAUDIOMETADATAKEY__SELECTEDDATASOURCE VARCHAR, Z_DKBATTERYSAVERMETADATAKEY__SOURCE VARCHAR, Z_DKBLUETOOTHMETADATAKEY__ADDRESS VARCHAR, Z_DKBLUETOOTHMETADATAKEY__NAME VARCHAR, Z_DKBULLETINBOARDMETADATAKEY__FEED VARCHAR, Z_DKBULLETINBOARDMETADATAKEY__MESSAGE VARCHAR, Z_DKBULLETINBOARDMETADATAKEY__SUBTITLE VARCHAR, Z_DKBULLETINBOARDMETADATAKEY__TITLE VARCHAR, Z_DKCALENDARMETADATAKEY__INTERACTION VARCHAR, Z_DKCALLMETADATAKEY__INTERACTION VARCHAR, Z_DKDEVICEIDMETADATAKEY__DEVICEIDENTIFIER VARCHAR, Z_DKDEVICESTANDBYTIMERMETADATAKEY__DELAY VARCHAR, Z_DKDEVICESTANDBYTIMERMETADATAKEY__TIMERTYPE VARCHAR, Z_DKDIGITALHEALTHMETADATAKEY__SAFARIPROFILEID VARCHAR, Z_DKDIGITALHEALTHMETADATAKEY__WEBDOMAIN VARCHAR, Z_DKDISCOVERABILITYSIGNALSMETADATAKEY__CONTEXT VARCHAR, Z_DKDISCOVERABILITYSIGNALSMETADATAKEY__OSBUILD VARCHAR, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__BUNDLEID VARCHAR, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__CONTEXT VARCHAR, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__OSBUILD VARCHAR, Z_DKINTENTMETADATAKEY__DERIVEDINTENTIDENTIFIER VARCHAR, Z_DKINTENTMETADATAKEY__INTENTCLASS VARCHAR, Z_DKINTENTMETADATAKEY__INTENTVERB VARCHAR, Z_DKINTENTMETADATAKEY__INTERACTIONIDENTIFIER VARCHAR, Z_DKINTENTMETADATAKEY__RELATEDCONTACTIDENTIFIERS VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__URL VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__CITY VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__COUNTRY VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__DISPLAYNAME VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__FULLYFORMATTEDADDRESS VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__LOCATIONNAME VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__POSTALCODE_V2 VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__STATEORPROVINCE VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__SUBTHOROUGHFARE VARCHAR, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__THOROUGHFARE VARCHAR, Z_DKLOCATIONMETADATAKEY__IDENTIFIER VARCHAR, Z_DKMAPSSHAREETAFEEDBACKMETADATAKEY__CONTACTID VARCHAR, Z_DKMAPSSHAREETAFEEDBACKMETADATAKEY__NAVIGATIONENDLOCATIONIDENTIFIER VARCHAR, Z_DKMAPSSHAREETAFEEDBACKMETADATAKEY__NAVIGATIONSTARTLOCATIONIDENTIFIER VARCHAR, Z_DKMETADATAHOMEAPPVIEW__HOMEUUID VARCHAR, Z_DKMETADATAHOMEAPPVIEW__VIEWINFORMATION VARCHAR, Z_DKMETADATAHOMEAPPVIEW__VIEWNAME VARCHAR, Z_DKMETADATAHOMEAPPVIEW__VIEWUUID VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__ACCESSORYNAME VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__ACCESSORYUUID VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__CHARACTERISTICTYPE VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__CLIENTNAME VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__HOMEUUID VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__SERVICENAME VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__SERVICETYPE VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__SERVICEUUID VARCHAR, Z_DKMETADATAHOMEKITACCESSORYCONTROL__SOURCE VARCHAR, Z_DKMETADATAHOMEKITSCENE__ACTIONSETNAME VARCHAR, Z_DKMETADATAHOMEKITSCENE__ACTIONSETTYPE VARCHAR, Z_DKMETADATAHOMEKITSCENE__ACTIONSETUUID VARCHAR, Z_DKMETADATAHOMEKITSCENE__CLIENTNAME VARCHAR, Z_DKMETADATAHOMEKITSCENE__HOMEUUID VARCHAR, Z_DKMETADATAHOMEKITSCENE__SCENENAME VARCHAR, Z_DKMETADATAHOMEKITSCENE__SOURCE VARCHAR, Z_DKMICROLOCATIONMETADATAKEY__DOMAIN VARCHAR, Z_DKMICROLOCATIONMETADATAKEY__LOCATIONDISTRIBUTION VARCHAR, Z_DKMICROLOCATIONMETADATAKEY__MICROLOCATIONDISTRIBUTION VARCHAR, Z_DKNOTIFICATIONUSAGEMETADATAKEY__BUNDLEID VARCHAR, Z_DKNOTIFICATIONUSAGEMETADATAKEY__IDENTIFIER VARCHAR, Z_DKNOWPLAYINGMETADATAKEY__ALBUM VARCHAR, Z_DKNOWPLAYINGMETADATAKEY__ARTIST VARCHAR, Z_DKNOWPLAYINGMETADATAKEY__GENRE VARCHAR, Z_DKNOWPLAYINGMETADATAKEY__MEDIATYPE VARCHAR, Z_DKNOWPLAYINGMETADATAKEY__TITLE VARCHAR, Z_DKPHOTOSMETADATAKEY__IDENTIFIER VARCHAR, Z_DKPHOTOSMETADATAKEY__SUBSET VARCHAR, Z_DKRELEVANTSHORTCUTMETADATAKEY__KEYIMAGEPROXYIDENTIFIER VARCHAR, Z_DKSAFARIHISTORYMETADATAKEY__TITLE VARCHAR, Z_DKSEARCHFEEDBACKMETADATAKEY__CLIENT VARCHAR, Z_DKSEARCHFEEDBACKMETADATAKEY__CONTACTID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ADAPTEDMODELRECIPEID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__DERIVEDINTENTIDENTIFIER VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__EXTENSIONCONTEXTUUID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__REASON VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__REASONTYPE VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__SOURCEBUNDLEID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__SUPPORTEDBUNDLEIDS VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__TARGETBUNDLEID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__TRACKINGID VARCHAR, Z_DKSHARESHEETFEEDBACKMETADATAKEY__TRANSPORTBUNDLEID VARCHAR, Z_DKSHARESHEETSUGGESTLESSFEEDBACKMETADATAKEY__BUNDLEID VARCHAR, Z_DKSHARESHEETSUGGESTLESSFEEDBACKMETADATAKEY__CONTACTID VARCHAR, Z_DKSHARESHEETSUGGESTLESSFEEDBACKMETADATAKEY__CONVERSATIONIDENTIFIER VARCHAR, Z_DKSHARESHEETSUGGESTLESSFEEDBACKMETADATAKEY__DERIVEDINTENTIDENTIFIER VARCHAR, Z_DKSHARESHEETSUGGESTLESSFEEDBACKMETADATAKEY__HANDLE VARCHAR, Z_DKSHARESHEETSUGGESTIONMETADATAKEY__DERIVEDINTENTIDENTIFIER VARCHAR, Z_DKSHARESHEETSUGGESTIONMETADATAKEY__EXTENSIONCONTEXTUUID VARCHAR, Z_DKSHARESHEETSUGGESTIONMETADATAKEY__SOURCEBUNDLEID VARCHAR, Z_DKSHARESHEETSUGGESTIONMETADATAKEY__TARGETBUNDLEID VARCHAR, Z_DKSIRIINTENTEVENTMETADATAKEY__EVENTTYPE VARCHAR, Z_DKSIRISERVICEMETADATAKEY__DOMAIN VARCHAR, Z_DKTIMERMETADATAKEY__TIMERID VARCHAR, Z_DKTOMBSTONEMETADATAKEY__EVENTSOURCEDEVICEID VARCHAR, Z_DKTOMBSTONEMETADATAKEY__EVENTSTREAMNAME VARCHAR, Z_QPMETRICSMETADATAKEY__QUERY VARCHAR, ZCOM_APPLE_CALENDARUIKIT_USERACTIVITY_EXTERNALID VARCHAR, ZKCDCSNOTIFICATIONOPTIONCLIENTIDENTIFIERKEY VARCHAR, ZKCDCSNOTIFICATIONOPTIONCLIENTLAUNCHKEY VARCHAR, ZKCDCSNOTIFICATIONOPTIONPERSISTENTPREDICATESTRINGKEY VARCHAR, ZMETADATAHASH VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__FULLURL VARCHAR, Z_DKAPPCLIPUSAGEMETADATAKEY__REFERRERURL VARCHAR, Z_DKAPPMEDIAUSAGEMETADATAKEY__URL VARCHAR, Z_DKAPPMEDIAUSAGEMETADATAKEY__MEDIAURL VARCHAR, Z_DKAPPLICATIONACTIVITYMETADATAKEY__ITEMRELATEDCONTENTURL VARCHAR, Z_DKDIGITALHEALTHMETADATAKEY__WEBPAGEURL VARCHAR, Z_DKAPPINSTALLMETADATAKEY__SUBCATEGORIES BLOB, Z_DKBEHAVIORALRULEFEATURESMETADATAKEY__FEATUREDICT BLOB, Z_DKDISCOVERABILITYSIGNALSMETADATAKEY__USERINFO BLOB, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__ANALYTICSEVENT BLOB, Z_DKDISCOVERABILITYUSAGEMETADATAKEY__ELIGIBLECONTEXT BLOB, Z_DKFAMILYPREDICTIONMETADATAKEY__SUGGESTIONS BLOB, Z_DKINTENTMETADATAKEY__SERIALIZEDINTERACTION BLOB, Z_DKLOCATIONAPPLICATIONACTIVITYMETADATAKEY__PHONENUMBERS BLOB, Z_DKMETADATAHOMEKITACCESSORYCONTROL__ACCESSORYSTATE BLOB, Z_DKMETADATAHOMEKITSCENE__ASSOCIATEDACCESSORYUUIDS BLOB, Z_DKMICROLOCATIONMETADATAKEY__PROBABILITYVECTOR BLOB, Z_DKNOWPLAYINGMETADATAKEY__OUTPUTDEVICEIDS BLOB, Z_DKPEOPLESUGGESTEROUTPUTFORSIRINLMETADATAKEY__RANKEDSUGGESTIONS BLOB, Z_DKRELEVANTSHORTCUTMETADATAKEY__SERIALIZEDRELEVANTSHORTCUT BLOB, Z_DKSHARESHEETFEEDBACKMETADATAKEY__ATTACHMENTS BLOB, Z_DKSHARESHEETFEEDBACKMETADATAKEY__LOCATIONUUIDS BLOB, Z_DKSHARESHEETFEEDBACKMETADATAKEY__MODELSUGGESTIONPROXIES BLOB, Z_DKSHARESHEETFEEDBACKMETADATAKEY__PHOTOSUGGESTEDCONTACTS BLOB, Z_DKSIRIINTENTEVENTMETADATAKEY__EVENTDATA BLOB, Z_QPMETRICSMETADATAKEY__CANDIDATELIST BLOB, Z_QPMETRICSMETADATAKEY__QUERYLIST BLOB);
- CREATE TABLE ZSYNCPEER(Z_PK BIGINT PRIMARY KEY, Z_ENT BIGINT, Z_OPT BIGINT, ZLASTSEENDATE TIMESTAMP, ZCLOUDID VARCHAR, ZDEVICEID VARCHAR, ZMODEL VARCHAR, ZRAPPORTID VARCHAR, ZVERSION VARCHAR, ZUUID BLOB);
- CREATE TABLE Z_PRIMARYKEY(Z_ENT BIGINT PRIMARY KEY, Z_NAME VARCHAR, Z_SUPER BIGINT, Z_MAX BIGINT);
- CREATE TABLE Z_METADATA(Z_VERSION BIGINT PRIMARY KEY, Z_UUID VARCHAR, Z_PLIST BLOB);
- CREATE TABLE Z_MODELCACHE(Z_CONTENT BLOB);
